переменная i в цикле была создана при помощи var, а var игнорирует области видимости,
поэтому i существует и за пределами цикла. необходимо создать переменную с let. это при ES6